{"version":3,"file":"js/b41476a444e77a31d6aa.js","mappings":"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","sources":["webpack://gallery/webpack/runtime/chunk loaded","webpack://gallery/webpack/runtime/create fake namespace object","webpack://gallery/./src/app/hooks/redux-hooks.ts","webpack://gallery/./src/store/slices/authSlice.ts","webpack://gallery/./src/store/slices/cardsSlice.ts","webpack://gallery/./src/store/slices/searchSlice.ts","webpack://gallery/./src/store/slices/userSlice.ts","webpack://gallery/./src/store/middleware/rtkQuerryErrorLogger.ts","webpack://gallery/./src/store/selectors/authSelectors.ts","webpack://gallery/./src/store/store.ts","webpack://gallery/./src/app/hooks/use-auth.ts","webpack://gallery/./src/app/api/unsplash/unsplash.ts","webpack://gallery/./src/app/constants/environment.ts","webpack://gallery/./src/app/HOC/ProtectedRoute/index.tsx","webpack://gallery/./firebase.ts","webpack://gallery/./src/components/Card/Card.module.scss?243b","webpack://gallery/./src/components/Card/Сard.tsx","webpack://gallery/./src/components/CardList/CardList.module.scss?492d","webpack://gallery/./src/components/CardList/CardList.tsx","webpack://gallery/./src/components/ui/Form/Form.module.scss?bf2c","webpack://gallery/./src/components/ui/Form/Form.tsx","webpack://gallery/./src/components/ui/Logo/Logo.module.scss?32e4","webpack://gallery/./src/components/ui/Logo/Logo.tsx","webpack://gallery/./src/components/ui/Preloader/Preloader.module.scss?efce","webpack://gallery/./src/components/ui/Preloader/Preloader.tsx","webpack://gallery/./src/components/ui/NavBar/NavBar.module.scss?1143","webpack://gallery/./src/components/ui/NavBar/NavBar.tsx","webpack://gallery/./src/components/Header/Header.module.scss?9343","webpack://gallery/./src/components/Header/Header.tsx","webpack://gallery/./src/components/Layout/Layout.module.scss?45bd","webpack://gallery/./src/components/Layout/Layout.tsx","webpack://gallery/./src/assets/svg/searchIcon.svg","webpack://gallery/./src/assets/svg/closeIcon.svg","webpack://gallery/./src/components/Search/Search.module.scss?1f35","webpack://gallery/./src/components/Search/Search.tsx","webpack://gallery/./src/app/hooks/use-debounced-function.ts","webpack://gallery/./src/components/SuggestionItem/SuggestionItem.module.scss?96d2","webpack://gallery/./src/components/SuggestionItem/SuggestionItem.tsx","webpack://gallery/./src/components/SuggestionsBar/SuggestionsBar.module.scss?d4e4","webpack://gallery/./src/components/SuggestionsBar/SuggestionsBar.tsx","webpack://gallery/./src/components/SearchWithSuggestion/SearchWithSuggestion.module.scss?3dc4","webpack://gallery/./src/components/SearchWithSuggestion/SearchWithSuggestion.tsx","webpack://gallery/./src/pages/CardInfoPage/CardInfoPage.module.scss?314e","webpack://gallery/./src/pages/CardInfoPage/CardInfoPage.tsx","webpack://gallery/./src/pages/FavoritesPage/FavoritesPage.tsx","webpack://gallery/./src/pages/HistoryPage/History.module.scss?5749","webpack://gallery/./src/pages/HistoryPage/HistoryPage.tsx","webpack://gallery/./src/pages/HomePage/HomePage.module.scss?0e82","webpack://gallery/./src/pages/HomePage/HomePage.tsx","webpack://gallery/./src/app/hooks/pagination.ts","webpack://gallery/./src/pages/LoginPage/Login/Login.tsx","webpack://gallery/./src/pages/LoginPage/LoginPage.tsx","webpack://gallery/./src/pages/NotFoundPage/NotFoundPage.module.scss?af12","webpack://gallery/./src/pages/NotFoundPage/NotFoundPage.tsx","webpack://gallery/./src/pages/RegisterPage/SignUp/SignUp.tsx","webpack://gallery/./src/pages/RegisterPage/RegisterPage.tsx","webpack://gallery/./src/store/actions/authAction.ts","webpack://gallery/./src/App.tsx","webpack://gallery/./src/index.tsx","webpack://gallery/webpack/bootstrap","webpack://gallery/webpack/runtime/define property getters","webpack://gallery/webpack/runtime/global","webpack://gallery/webpack/runtime/hasOwnProperty shorthand","webpack://gallery/webpack/runtime/make namespace object","webpack://gallery/webpack/runtime/publicPath","webpack://gallery/webpack/runtime/jsonp chunk loading","webpack://gallery/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { AppDispatch, RootState } from '@store/store'\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector\r\n","import { PayloadAction, createSlice } from '@reduxjs/toolkit'\r\n\r\ninterface IAuthSliceState {\r\n  statusAuth: 'LOADING' | 'SUCCESS'\r\n  email: null | string\r\n  uid: string\r\n}\r\n\r\nconst initialState: IAuthSliceState = {\r\n  statusAuth: 'LOADING',\r\n  email: null,\r\n  uid: '',\r\n}\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {\r\n    setAuthUser(\r\n      state,\r\n      actions: PayloadAction<{ email: string | null; uid: string }>\r\n    ) {\r\n      state.email = actions.payload.email\r\n      state.uid = actions.payload.uid\r\n      state.statusAuth = 'SUCCESS'\r\n    },\r\n    userNotFound(state) {\r\n      state.email = null\r\n      state.uid = ''\r\n      state.statusAuth = 'SUCCESS'\r\n    },\r\n  },\r\n})\r\n\r\nexport const { setAuthUser, userNotFound } = authSlice.actions\r\nexport default authSlice.reducer\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\r\nimport { UnsplashTypes } from '@api'\r\n\r\ninterface ICardsInitialState {\r\n  cardsData: UnsplashTypes.Card[]\r\n  saveCardsData: UnsplashTypes.Card[]\r\n}\r\n\r\nconst initialState: ICardsInitialState = {\r\n  cardsData: [],\r\n  saveCardsData: [],\r\n}\r\n\r\nconst cardsSlice = createSlice({\r\n  name: 'cards',\r\n  initialState,\r\n  reducers: {\r\n    replaceCards(state, action: PayloadAction<UnsplashTypes.Card[]>) {\r\n      state.cardsData = action.payload\r\n    },\r\n    addMoreCards(state, action: PayloadAction<UnsplashTypes.Card[]>) {\r\n      state.cardsData.push(...action.payload)\r\n    },\r\n    removeCards(state) {\r\n      state.cardsData = []\r\n    },\r\n  },\r\n})\r\n\r\nexport const { replaceCards, addMoreCards, removeCards } = cardsSlice.actions\r\nexport default cardsSlice.reducer\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\r\n\r\nconst initialState = {\r\n  searchValue: '',\r\n  countPerPage: 30,\r\n  totalPages: 0,\r\n}\r\n\r\nconst searchSlice = createSlice({\r\n  name: 'search',\r\n  initialState,\r\n  reducers: {\r\n    setSearchValue(state, action: PayloadAction<string>) {\r\n      state.searchValue = action.payload\r\n    },\r\n    resetSearch(state) {\r\n      state.searchValue = ''\r\n    },\r\n    setTotalPages(state, { payload }: PayloadAction<number>) {\r\n      state.totalPages = payload\r\n    },\r\n  },\r\n})\r\n\r\nexport const { setSearchValue, resetSearch, setTotalPages } = searchSlice.actions\r\nexport default searchSlice.reducer\r\n","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nconst initialState = {\r\n  email: null,\r\n  token: null,\r\n  id: null,\r\n}\r\n\r\nconst userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    setUser(state, action) {\r\n      state.email = action.payload.email\r\n      state.token = action.payload.token\r\n      state.id = action.payload.id\r\n    },\r\n    removeUser(state) {\r\n      state.email = null\r\n      state.token = null\r\n      state.id = null\r\n    },\r\n  },\r\n})\r\n\r\nexport const { setUser, removeUser } = userSlice.actions\r\n\r\nexport default userSlice.reducer\r\n","import { Middleware, isRejectedWithValue } from '@reduxjs/toolkit'\r\nimport { toast } from 'react-toastify'\r\n\r\ninterface ICustomError {\r\n  error: string\r\n  status: number | string\r\n  data?: {\r\n    message: string\r\n  }\r\n}\r\n\r\nexport const rtkQueryErrorLogger: Middleware = () => (next) => (action) => {\r\n  if (isRejectedWithValue(action)) {\r\n    const customError = action.payload as ICustomError\r\n    if (customError.status === 'FETCH_ERROR') {\r\n      return toast.error('Ошибка подключения к серверу')\r\n    } else if (customError.status === 400 && customError.data) {\r\n      return toast.error(customError.data.message)\r\n    } else {\r\n      return toast.error(customError.error)\r\n    }\r\n  }\r\n  return next(action)\r\n}\r\n","import { RootState } from '../store'\r\n\r\nexport const uid = (state: RootState) => state.auth.uid\r\nexport const email = (state: RootState) => state.auth.email\r\nexport const status = (state: RootState) => state.auth.statusAuth\r\n","import { combineReducers, configureStore } from '@reduxjs/toolkit'\r\n\r\nimport authReducer from './slices/authSlice'\r\nimport cardsReducer from './slices/cardsSlice'\r\nimport searchReducer from './slices/searchSlice'\r\nimport userReducer from './slices/userSlice'\r\nimport { rtkQueryErrorLogger } from './middleware/rtkQuerryErrorLogger'\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  search: searchReducer,\r\n  cards: cardsReducer,\r\n  auth: authReducer,\r\n})\r\n\r\nexport const store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware().concat(rtkQueryErrorLogger),\r\n})\r\n\r\nexport * as authSelectors from './selectors/authSelectors'\r\nexport type AppDispatch = typeof store.dispatch\r\nexport type RootState = ReturnType<typeof store.getState>\r\n","import { authSelectors } from '@store/store'\r\n\r\nimport { useAppSelector } from './redux-hooks'\r\n\r\nexport function useAuth() {\r\n  const email = useAppSelector(authSelectors.email)\r\n\r\n  return {\r\n    isAuth: !!email,\r\n    email,\r\n  }\r\n}\r\n","import { UNSPLASH_API_ACCESS_KEY } from '@constants'\r\n\r\nimport {\r\n  Card,\r\n  Data,\r\n  Colors,\r\n  IRequestOptions,\r\n  OrdersList,\r\n  OrdersSearch,\r\n  Orientations,\r\n  RandomPhotosCountRange,\r\n  Collection,\r\n} from './unsplash.types'\r\n\r\nconst apiOptions = {\r\n  baseURL: 'https://api.unsplash.com',\r\n  headers: {\r\n    Authorization: `Client-ID ${UNSPLASH_API_ACCESS_KEY}`,\r\n  },\r\n}\r\n\r\nconst checkResponse = async <P>(res: Response) =>\r\n  res.ok\r\n    ? (res.json() as Promise<P>)\r\n    : res.json().then((err) => Promise.reject(err?.errors[0]))\r\n\r\nconst makeRequest = async <P>({ endPoint, body, method }: IRequestOptions) => {\r\n  try {\r\n    const { baseURL, headers } = apiOptions\r\n    const options: RequestInit = {\r\n      headers,\r\n      method: method || 'GET',\r\n    }\r\n\r\n    if (body) {\r\n      options.body = JSON.stringify(body)\r\n    }\r\n\r\n    const res = await fetch(`${baseURL}${endPoint}`, options)\r\n    return checkResponse<P>(res)\r\n  } catch (err) {\r\n    return Promise.reject('Unexpected error from makeRequest')\r\n  }\r\n}\r\n\r\nconst getQueryString = (params: object) => {\r\n  const queries: string[] = []\r\n\r\n  for (const key in params) {\r\n    if (params[key]) {\r\n      queries.push(`${key}=${params[key]}`)\r\n    }\r\n  }\r\n\r\n  return '?' + queries.join('&')\r\n}\r\n\r\n/**\r\n * Get a single photo by photo's id.\r\n */\r\nexport const getPhotoById = (id: string) =>\r\n  makeRequest<Card>({ endPoint: `/photos/${id}` })\r\n\r\n/**\r\n * Get a single page from the Editorial feed.\r\n */\r\nexport const getListPhotos = (params?: {\r\n  page?: number\r\n  per_page?: number\r\n  order_by?: OrdersList\r\n}) => {\r\n  let queryString = ''\r\n\r\n  if (params) {\r\n    queryString = getQueryString(params)\r\n  }\r\n\r\n  return makeRequest<Card[]>({ endPoint: `/photos${queryString}` })\r\n}\r\n\r\n/**\r\n * Get a random photo.\r\n * \"topics\" value is a string with a public topic ID(‘s). If multiple, comma-separated\r\n */\r\nexport const getRandomPhoto = (params?: {\r\n  query?: string\r\n  orientation?: Orientations\r\n  count?: RandomPhotosCountRange\r\n  topics?: string\r\n}) => {\r\n  let queryString = ''\r\n\r\n  if (params) {\r\n    queryString = getQueryString(params)\r\n  }\r\n\r\n  return makeRequest<Card | Card[]>({\r\n    endPoint: `/photos/random${queryString}`,\r\n  })\r\n}\r\n\r\n/**\r\n * Get a single page of photo results for a query.\r\n */\r\nexport const searchPhoto = <P extends Card>(params: {\r\n  query: string\r\n  orientation?: Orientations\r\n  count?: RandomPhotosCountRange\r\n  page?: number\r\n  per_page?: number\r\n  order_by?: OrdersSearch\r\n  color?: Colors\r\n}) => {\r\n  const queryString = getQueryString(params)\r\n  return makeRequest<Data<P>>({ endPoint: `/search/photos${queryString}` })\r\n}\r\n\r\n/**\r\n * Get a single page of collection results for a query.\r\n */\r\nexport const searchCollections = (params: {\r\n  query: string\r\n  page?: number\r\n  per_page?: number\r\n}) => {\r\n  const queryString = getQueryString(params)\r\n  return makeRequest<Data<Collection>>({\r\n    endPoint: `/search/collections${queryString}`,\r\n  })\r\n}\r\n","const BASE_URLS = {\r\n  development: process.env.BASE_URL_DEV,\r\n  production: process.env.BASE_URL_PROD,\r\n}\r\nconst NODE_ENV = process.env.NODE_ENV || ''\r\nexport const CURRENT_BASE_URL = BASE_URLS[NODE_ENV]\r\n\r\nexport const UNSPLASH_API_ACCESS_KEY = process.env.UNSPLASH_API_ACCESS_KEY || ''\r\n","import { FC } from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\n\r\nimport { useAuth } from '@hooks'\r\n\r\nexport const ProtectedRoute: FC<Record<string, unknown> & { component: FC }> = ({\r\n  component: Component,\r\n  ...props\r\n}) => {\r\n  const { isAuth } = useAuth()\r\n  return isAuth ? <Component {...props} /> : <Navigate to='/login' replace />\r\n}\r\n","import { initializeApp } from 'firebase/app'\r\nimport { getAuth } from 'firebase/auth'\r\nimport { getFirestore } from 'firebase/firestore'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n}\r\n\r\nconst app = initializeApp(firebaseConfig)\r\nconst auth = getAuth(app)\r\nconst db = getFirestore(app)\r\n\r\nexport { auth, db }\r\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"t3s26QVSgcFUkHVBkvzg\",\"fav\":\"amvc2ZeBeTyXgURj4TYG\",\"favBtn\":\"NWzt4LNtXuUqmCr7wwTQ\",\"cardPicture\":\"sweITg5Z2tt3krWwZgK1\",\"cardBottom\":\"ZbKAyAgU6jerGgPQ5g9A\",\"cardTitle\":\"uOcb9zrYLDNLhc_hYWS2\"};","import { useAppSelector, useAuth } from '@hooks'\r\nimport { authSelectors } from '@store/store'\r\nimport { deleteDoc, doc, setDoc } from 'firebase/firestore'\r\nimport { FC, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\n\r\nimport favFilled from '@assets/icons/fav-filled.png'\r\nimport fav from '@assets/icons/fav.png'\r\n\r\nimport { db } from '../../../firebase'\r\nimport styles from './Card.module.scss'\r\n\r\ninterface ICard {\r\n  id: string\r\n  urls: IUrls\r\n  alt_description: string\r\n  liked_by_user?: boolean\r\n}\r\n\r\ninterface IUrls {\r\n  full: string\r\n  raw: string\r\n  regular: string\r\n  small: string\r\n  small_s3: string\r\n  thumb: string\r\n}\r\n\r\nexport const Card: FC<ICard> = (props) => {\r\n  const { isAuth } = useAuth()\r\n  const { id, urls, alt_description, liked_by_user } = props\r\n  const [isLiked, setIsLiked] = useState<boolean>(liked_by_user!)\r\n  const uid = useAppSelector(authSelectors.uid)\r\n\r\n  const handleLikePost = (event: React.MouseEvent) => {\r\n    event.preventDefault()\r\n    setIsLiked(!isLiked)\r\n  }\r\n\r\n  const addFavorites = async () => {\r\n    try {\r\n      await setDoc(doc(db, `users/${uid}/favorites`, id), {\r\n        ...props,\r\n        liked_by_user: true,\r\n      })\r\n    } catch (error: string | any) {\r\n      toast.error('Error adding a card to favorites ', error)\r\n    }\r\n  }\r\n\r\n  const removeFavorites = async (cardId: string) => {\r\n    await deleteDoc(doc(db, `users/${uid}/favorites`, cardId))\r\n  }\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      <Link to={`/card?id=${id}`}>\r\n        <div className={styles.fav}>\r\n          <button\r\n            disabled={!isAuth}\r\n            title={\r\n              !isAuth ? 'Authorize to add to favorites' : 'Add to favorites'\r\n            }\r\n            className={styles.favBtn}\r\n            onClick={\r\n              isLiked\r\n                ? (e) => {\r\n                    handleLikePost(e)\r\n                    removeFavorites(id)\r\n                  }\r\n                : (e) => {\r\n                    handleLikePost(e)\r\n                    addFavorites()\r\n                  }\r\n            }\r\n          >\r\n            <img src={isLiked ? favFilled : fav} alt='' />\r\n          </button>\r\n        </div>\r\n        <div className={styles.cardPicture}>\r\n          <img src={urls?.regular} alt='image' />\r\n        </div>\r\n        <div className={styles.cardBottom}>\r\n          <div className={styles.cardTitle}>\r\n            {alt_description && alt_description.length > 100\r\n              ? `${alt_description.slice(0, 100)}...`\r\n              : alt_description}\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"bcvEoAGvxOleIuasmcg6\"};","import { FC } from 'react'\r\n\r\nimport { Card } from '../Card'\r\nimport styles from './CardList.module.scss'\r\nimport { ICardListProps } from './CardList.types'\r\n\r\nexport const CardList: FC<ICardListProps> = ({ cards }) => {\r\n  const cardList = cards.map(({ id, urls, alt_description, liked_by_user }) => (\r\n    <li key={id}>\r\n      <Card\r\n        id={id}\r\n        urls={urls}\r\n        alt_description={alt_description}\r\n        liked_by_user={liked_by_user}\r\n      />\r\n    </li>\r\n  ))\r\n  return <ul className={styles.list}>{cardList}</ul>\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"yxxp4Dpp6UIdHwxABVeG\"};","import { FC, useState } from 'react'\r\n\r\nimport styles from './Form.module.scss'\r\n\r\ninterface FormProps {\r\n  title: string\r\n  handleSubmit: (email: string, pass: string) => void\r\n}\r\n\r\nexport const Form: FC<FormProps> = ({ title, handleSubmit }) => {\r\n  const [email, setEmail] = useState('')\r\n  const [pass, setPass] = useState('')\r\n  const [emailError, setEmailError] = useState('')\r\n  const [passwordError, setPasswordError] = useState('')\r\n\r\n  const validateEmail = (value: string) => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n    if (!value) {\r\n      setEmailError('Email is required')\r\n    } else if (!emailRegex.test(value)) {\r\n      setEmailError('Invalid email format')\r\n    } else {\r\n      setEmailError('')\r\n    }\r\n  }\r\n\r\n  const validatePassword = (value: string) => {\r\n    if (!value) {\r\n      setPasswordError('Password is required')\r\n    } else if (value.length < 6) {\r\n      setPasswordError('Password must be at least 6 characters long')\r\n    } else {\r\n      setPasswordError('')\r\n    }\r\n  }\r\n\r\n  const handleEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value\r\n    setEmail(value)\r\n    validateEmail(value)\r\n  }\r\n\r\n  const handlePasswordChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value\r\n    setPass(value)\r\n    validatePassword(value)\r\n  }\r\n\r\n  const handleSubmitForm = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    handleSubmit(email, pass)\r\n  }\r\n\r\n  return (\r\n    <form className={styles.form} onSubmit={handleSubmitForm}>\r\n      <div>\r\n        <label htmlFor='email'>Email:</label>\r\n        <input\r\n          type='email'\r\n          value={email}\r\n          onChange={handleEmailChange}\r\n          placeholder='Email'\r\n          required\r\n        />\r\n      </div>\r\n      {emailError && <p>{emailError}</p>}\r\n      <div>\r\n        <label htmlFor='password'>Password:</label>\r\n        <input\r\n          type='password'\r\n          value={pass}\r\n          onChange={handlePasswordChange}\r\n          placeholder='Password'\r\n          required\r\n        />\r\n      </div>\r\n      {passwordError && <p>{passwordError}</p>}\r\n      <button>{title}</button>\r\n    </form>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"dDRRXIIg4vAbQn8dQzmo\",\"title\":\"S6rLE3BqBsddY5TPfdhg\",\"subtitle\":\"g87VLBs39AwMWAOzcAff\"};","import { FC } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport styles from './Logo.module.scss'\r\n\r\nexport const Logo: FC = () => {\r\n  return (\r\n    <Link to='/' className={styles.link}>\r\n      <h1 className={styles.title}>Photo Gallery</h1>\r\n      <p className={styles.subtitle}>find your mood</p>\r\n    </Link>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"preloader\":\"lr2y5T6qgvpckfJ9StH9\",\"preloader_fullscreen\":\"Dq0AwFGRf_CJ_F_WOfLZ\",\"spinner\":\"M3tvYWDWIXB5YMkbPf7o\",\"spin\":\"BFdx2CQ1K3qM71YO6rsQ\"};","import { FC } from 'react'\r\n\r\nimport { IPreloaderProps } from './Preloader.types'\r\nimport styles from './Preloader.module.scss'\r\n\r\nexport const Preloader: FC<IPreloaderProps> = ({ fullscreen }) => {\r\n  return (\r\n    <div\r\n      className={`${styles.preloader} ${\r\n        fullscreen && styles.preloader_fullscreen\r\n      }`}\r\n    >\r\n      <span className={styles.spinner} />\r\n    </div>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"menu\":\"fIx_CB_Dp1B5CT0nSuBm\",\"activeLink\":\"U1DnwO2qYxKLL1LqlTFX\",\"logoutBtn\":\"bqMkJLwVtyT9pESoUdMK\"};","import { NavLink, useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\n\r\nimport { signOut } from 'firebase/auth'\r\n\r\nimport { useAppDispatch, useAppSelector, useAuth } from '@hooks'\r\nimport { removeUser } from '@store/slices/userSlice'\r\nimport { authSelectors } from '@store/store'\r\n\r\nimport { auth } from '../../../../firebase'\r\nimport { Preloader } from '../Preloader'\r\nimport styles from './NavBar.module.scss'\r\n\r\nexport const NavBar = () => {\r\n  const dispatch = useAppDispatch()\r\n  const navigate = useNavigate()\r\n  const { isAuth, email } = useAuth()\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await signOut(auth)\r\n      dispatch(removeUser())\r\n      navigate('/')\r\n    } catch (error: string | any) {\r\n      toast.error('Error logging out ', error)\r\n    }\r\n  }\r\n  const statusAuth = useAppSelector(authSelectors.status)\r\n\r\n  //TODO проверить, как будет себя вести при ошибке\r\n  if (statusAuth !== 'SUCCESS') {\r\n    return <Preloader fullscreen />\r\n  }\r\n\r\n  const handleActiveLink = ({ isActive }) => (isActive ? styles.activeLink : '')\r\n\r\n  return (\r\n    <nav className={styles.menu}>\r\n      {isAuth ? (\r\n        <>\r\n          <NavLink to='/favorites' className={handleActiveLink}>\r\n            Favorites\r\n          </NavLink>\r\n          <NavLink to='/history' className={handleActiveLink}>\r\n            History\r\n          </NavLink>\r\n          <button onClick={() => handleLogout()} className={styles.logoutBtn}>\r\n            Log out from <span>{email}</span>\r\n          </button>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <NavLink to='/login' className={handleActiveLink}>\r\n            Login\r\n          </NavLink>\r\n          <NavLink to='/register' className={handleActiveLink}>\r\n            Register\r\n          </NavLink>\r\n        </>\r\n      )}\r\n    </nav>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"k5rxhHqufc0wTH_iRBgY\",\"wrapper\":\"S898CJNNo9cb_xQn4FBI\"};","import { Logo, NavBar } from '../ui'\r\n\r\nimport styles from './Header.module.scss'\r\n\r\nexport const Header = () => {\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.wrapper}>\r\n        <Logo />\r\n        <NavBar />\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"page\":\"QcyAwWrXP4IvTyugCBDk\",\"main\":\"zwrmBObIHf75VWaw38yw\"};","import { FC } from 'react'\r\n\r\nimport { LayoutProps } from './Layout.types'\r\nimport { Header } from '../Header'\r\nimport styles from './Layout.module.scss'\r\n\r\nexport const Layout: FC<LayoutProps> = ({ children }) => {\r\n  return (\r\n    <div className={styles.page}>\r\n      <Header />\r\n      <main className={styles.main}>{children}</main>\r\n    </div>\r\n  )\r\n}\r\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgSearchIcon = function SvgSearchIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.5 14h-.79l-.28-.27A6.47 6.47 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14\"\n  })));\n};\nexport { SvgSearchIcon as ReactComponent };\nexport default __webpack_public_path__ + \"50dacce9440cbc2146e1406b026eb96d.svg\";","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgCloseIcon = function SvgCloseIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    fill: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"inherit\",\n    d: \"M23.66 6.96 16 14.63 8.32 6.96 6.95 8.33 14.62 16l-7.67 7.67 1.37 1.37 7.67-7.68 7.67 7.68 1.37-1.37L17.36 16l7.67-7.67z\"\n  })));\n};\nexport { SvgCloseIcon as ReactComponent };\nexport default __webpack_public_path__ + \"95b61f4b6b02cec2da4fbe2417d78dd8.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"search\":\"kIwoKeY1ahkooJTXbu5k\",\"input\":\"kioBQlhTvvd5Aum2TU03\",\"clearBtn\":\"XsniiaeK_STDgsIj1Oog\",\"submitBtn\":\"ajFuQufx5wCXf2dNC1RP\"};","import { FC, useEffect, useRef, useState } from 'react'\r\n\r\nimport { useAppDispatch, useDebouncedFunction } from '@hooks'\r\nimport { resetSearch, setSearchValue } from '@store/slices/searchSlice'\r\n\r\nimport { ReactComponent as SearchIcon } from '@assets/svg/searchIcon.svg'\r\nimport { ReactComponent as CloseIcon } from '@assets/svg/closeIcon.svg'\r\n\r\nimport { SearchProps } from './Search.types'\r\nimport styles from './Search.module.scss'\r\n\r\nexport const Search: FC<SearchProps> = ({ onSubmit }) => {\r\n  const dispatch = useAppDispatch()\r\n\r\n  const [value, setValue] = useState<string>('')\r\n  const inputRef = useRef<HTMLInputElement>(null)\r\n\r\n  const handleDebouncedInputUpdate = useDebouncedFunction(\r\n    (str: string) => dispatch(setSearchValue(str)),\r\n    500,\r\n    true\r\n  )\r\n\r\n  function handleChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    setValue(e.target.value)\r\n    handleDebouncedInputUpdate(e.target.value)\r\n  }\r\n\r\n  function handleClearClick() {\r\n    setValue('')\r\n    dispatch(resetSearch())\r\n    inputRef.current?.focus()\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault()\r\n    onSubmit(value)\r\n  }\r\n\r\n  useEffect(\r\n    () => () => {\r\n      dispatch(resetSearch())\r\n    },\r\n    [dispatch]\r\n  )\r\n\r\n  return (\r\n    <form className={styles.search} onSubmit={handleSubmit} name='search'>\r\n      <input\r\n        className={styles.input}\r\n        ref={inputRef}\r\n        value={value}\r\n        placeholder='Find a photo for you'\r\n        onChange={handleChange}\r\n      />\r\n      {value && (\r\n        <button\r\n          className={styles.clearBtn}\r\n          type='button'\r\n          aria-label='clear input'\r\n          onClick={handleClearClick}\r\n        >\r\n          <CloseIcon />\r\n        </button>\r\n      )}\r\n      <button\r\n        type='submit'\r\n        className={styles.submitBtn}\r\n        disabled={!value.length}\r\n        aria-label='Search'\r\n      >\r\n        <SearchIcon />\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n","import { useRef, useEffect } from 'react'\r\n\r\nexport function useDebouncedFunction(func, delay = 0, cleanUp = false) {\r\n  const timeoutRef = useRef<NodeJS.Timeout>()\r\n\r\n  function clearTimer() {\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current)\r\n      timeoutRef.current = undefined\r\n    }\r\n  }\r\n\r\n  useEffect(() => (cleanUp ? clearTimer : undefined), [cleanUp])\r\n\r\n  return (...args) => {\r\n    clearTimer()\r\n    timeoutRef.current = setTimeout(() => func(...args), delay)\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"suggestion\":\"nlWODRnelZwk8H1WSwb3\",\"link\":\"tRTLbVEQAzT1QRMCc1PM\",\"imageWrap\":\"CdPc0hE8Dg8KmcnLx3cE\",\"likes\":\"kmzUaLH__6hRQyiA0kIw\",\"owner\":\"Ys99cJte9zU9W_qELMT5\",\"title\":\"XAST3IQBuGPp_yosKtEo\",\"arrow\":\"maDGhwQedZYPPrckXRM1\"};","import { FC } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SuggestionItemProps } from './SuggestionItem.types'\r\nimport styles from './SuggestionItem.module.scss'\r\n\r\nexport const SuggestionItem: FC<SuggestionItemProps> = ({\r\n  id,\r\n  alt_description = 'no description',\r\n  thumb,\r\n  owner,\r\n  likes = 0,\r\n}) => {\r\n  return (\r\n    <article className={styles.suggestion}>\r\n      <Link to={`/card?id=${id}`} className={styles.link} />\r\n      <div className={styles.imageWrap}>\r\n        <img src={thumb} alt={alt_description} />\r\n      </div>\r\n      <h2 className={styles.title}>{alt_description}</h2>\r\n      <p className={styles.owner}>{`by ${owner}`}</p>\r\n      <p className={styles.likes}>\r\n        <span role='img' aria-label='heart'>\r\n          ❤️\r\n        </span>{' '}\r\n        {likes}\r\n      </p>\r\n      <span className={styles.arrow}>→</span>\r\n    </article>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"bar\":\"TD1HD6cN_5HU7pXRZlxa\",\"list\":\"PQyGLGo76sk88jGeFpf5\",\"visible\":\"cIBHfP8MjIO0mJykMJa2\",\"message\":\"E8ykriKZvDPoO7oOFtns\"};","import { FC } from 'react'\r\n\r\nimport { SuggestionItem } from '../SuggestionItem'\r\nimport { SuggestionsBarProps } from './SuggestionsBar.types'\r\nimport styles from './SuggestionsBar.module.scss'\r\n\r\nexport const SuggestionsBar: FC<SuggestionsBarProps> = ({\r\n  photos,\r\n  visible,\r\n  errorMessage = '',\r\n}) => {\r\n  const suggestionsList = photos.map(\r\n    ({ id, alt_description, urls, user, likes }) => (\r\n      <li key={id}>\r\n        <SuggestionItem\r\n          id={id}\r\n          alt_description={alt_description}\r\n          thumb={urls.thumb}\r\n          owner={user.name}\r\n          likes={likes}\r\n        />\r\n      </li>\r\n    )\r\n  )\r\n\r\n  return (\r\n    <div\r\n      className={`${styles.bar} ${visible && styles.visible}`}\r\n      id='bar'\r\n      aria-label='Suggestions Bar'\r\n    >\r\n      {errorMessage ? (\r\n        <p className={styles.message}>{errorMessage}</p>\r\n      ) : (\r\n        <ul className={styles.list}>{suggestionsList}</ul>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"lkajQKCidxJ9BGKaIToL\"};","import { FC, useEffect, useState } from 'react'\r\nimport { doc, setDoc } from 'firebase/firestore'\r\nimport { toast } from 'react-toastify'\r\n\r\nimport { UnsplashApi, UnsplashTypes } from '@api'\r\nimport { useAppDispatch, useAppSelector, useAuth } from '@hooks'\r\nimport { replaceCards } from '@store/slices/cardsSlice'\r\nimport { authSelectors } from '@store/store'\r\nimport { setTotalPages } from '@store/slices/searchSlice'\r\n\r\nimport { db } from '../../../firebase'\r\n\r\nimport { Search } from '../Search'\r\nimport { SuggestionsBar } from '../SuggestionsBar'\r\nimport style from './SearchWithSuggestion.module.scss'\r\n\r\nexport const SearchWithSuggestion: FC = () => {\r\n  const dispatch = useAppDispatch()\r\n  const uid = useAppSelector(authSelectors.uid)\r\n\r\n  const [isSuggestionsBarVisible, setIsSuggestionsBarVisible] = useState(false)\r\n  const [suggestions, setSuggestions] = useState<UnsplashTypes.Card[]>([])\r\n  const [errorMessage, setErrorMessage] = useState<string>('')\r\n  const { isAuth } = useAuth()\r\n\r\n  const { searchValue, countPerPage } = useAppSelector((state) => state.search)\r\n\r\n  const handleSubmit = async (searchValue) => {\r\n    setIsSuggestionsBarVisible(false)\r\n    UnsplashApi.searchPhoto({\r\n      query: searchValue,\r\n      per_page: countPerPage,\r\n      page: 1,\r\n    })\r\n      .then(({ results, total_pages }) => {\r\n        dispatch(replaceCards(results))\r\n        dispatch(setTotalPages(total_pages))\r\n      })\r\n      .catch((error) => {\r\n        toast.error('Request error ', error)\r\n      })\r\n\r\n    if (isAuth) {\r\n      try {\r\n        await setDoc(doc(db, `users/${uid}/searchHistory`, searchValue), {\r\n          searchValue,\r\n        })\r\n      } catch (error: string | any) {\r\n        toast.error('Error adding a search parameter ', error)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleSuggestionError = (err) => {\r\n    const message =\r\n      typeof err === 'string'\r\n        ? err\r\n        : 'An error occurred during the request. Please try again later.'\r\n    setErrorMessage(message)\r\n    setSuggestions([])\r\n  }\r\n\r\n  useEffect(() => {\r\n    setErrorMessage('')\r\n    if (searchValue) {\r\n      UnsplashApi.getRandomPhoto({ count: 5, query: searchValue })\r\n        .then((data) => {\r\n          setSuggestions(data as UnsplashTypes.Card[])\r\n        })\r\n        .catch(handleSuggestionError)\r\n        .finally(() => setIsSuggestionsBarVisible(true))\r\n    }\r\n  }, [searchValue])\r\n\r\n  useEffect(() => {\r\n    const closeSuggestionsBar = (evt: MouseEvent) => {\r\n      if (\r\n        isSuggestionsBarVisible &&\r\n        !(evt.target as HTMLElement).closest('section')\r\n      )\r\n        setIsSuggestionsBarVisible(false)\r\n    }\r\n\r\n    if (isSuggestionsBarVisible) {\r\n      document.addEventListener('click', closeSuggestionsBar)\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('click', closeSuggestionsBar)\r\n    }\r\n  }, [isSuggestionsBarVisible])\r\n\r\n  return (\r\n    <section className={style.section}>\r\n      <Search onSubmit={handleSubmit} />\r\n      <SuggestionsBar\r\n        photos={suggestions}\r\n        visible={isSuggestionsBarVisible && searchValue.length > 0}\r\n        errorMessage={errorMessage}\r\n      />\r\n    </section>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"cardPage\":\"KJtAPu_Cnoijkj2S0QAw\",\"cardInfo\":\"EklOGZMCgGTOhK40Q9k1\",\"cardImage\":\"pSlmUVy_0sa_pz0wteQ8\",\"cardDescription\":\"BGgAqLKXk42y7c0JtmYV\",\"title\":\"SNoz5zU2p4uwGAeFtlH9\",\"extraInfo\":\"NY1lFrOd_RJg2i6XJyF9\",\"author\":\"sdxTcX9qj5tOfomBr9vr\",\"location\":\"gw3XbhzPk7uJmk3A_wAh\",\"othersPosts\":\"HqW1R4WykOyRHOIjfeYS\",\"posts\":\"vppp4ePSNtO_JmfkMC7e\"};","import { useCallback, useLayoutEffect, useState } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { doc, setDoc } from 'firebase/firestore'\r\nimport { toast } from 'react-toastify'\r\n\r\nimport { Card } from '@components'\r\nimport { useAppSelector, useAuth } from '@hooks'\r\nimport { UnsplashApi, UnsplashTypes } from '@api'\r\nimport { authSelectors } from '@store/store'\r\n\r\nimport { db } from '../../../firebase'\r\n\r\nimport styles from './CardInfoPage.module.scss'\r\n\r\nfunction CardInfoPage() {\r\n  const location = useLocation()\r\n  const uid = useAppSelector(authSelectors.uid)\r\n\r\n  const [imgData, setImgData] = useState<UnsplashTypes.Card | null>(null)\r\n  const [similarImages, setSimilarImages] = useState<\r\n    UnsplashTypes.Card[] | null\r\n  >(null)\r\n  const { isAuth } = useAuth()\r\n\r\n  const getImgData = useCallback(\r\n    async (cardId) => {\r\n      const response = await UnsplashApi.getPhotoById(cardId!)\r\n      setImgData(response)\r\n\r\n      if (isAuth) {\r\n        try {\r\n          await setDoc(doc(db, `users/${uid}/cardsHistory`, cardId), {\r\n            ...response,\r\n          })\r\n        } catch (error: string | any) {\r\n          toast.error('Error when adding a card to the history ', error)\r\n        }\r\n      }\r\n\r\n      const topic = response?.topics ? response?.topics[0]?.id : ''\r\n\r\n      const responseOfSimilarsPhotos = await UnsplashApi.getRandomPhoto({\r\n        topics: topic,\r\n        orientation: 'portrait',\r\n        count: 20,\r\n      })\r\n\r\n      setSimilarImages(responseOfSimilarsPhotos as UnsplashTypes.Card[])\r\n    },\r\n    [isAuth, uid]\r\n  )\r\n\r\n  useLayoutEffect(() => {\r\n    const params = new URLSearchParams(window.location.search)\r\n    const id = params.get('id')\r\n    getImgData(id)\r\n  }, [location, getImgData])\r\n\r\n  return (\r\n    <div className={styles.cardPage}>\r\n      {imgData && (\r\n        <section className={styles.cardInfo}>\r\n          <div className={styles.cardImage}>\r\n            <img src={imgData?.urls?.regular} alt='' />\r\n          </div>\r\n          <div className={styles.cardDescription}>\r\n            <div className={styles.title}>\r\n              <h2>{imgData?.description}</h2>\r\n            </div>\r\n            <div className={styles.extraInfo}>\r\n              <div className={styles.author}>{imgData?.user?.name}</div>\r\n              <div className={styles.location}>\r\n                {!imgData?.location?.country ? (\r\n                  'Unknown location'\r\n                ) : (\r\n                  <>\r\n                    {imgData?.location?.country}\r\n                    {imgData.location.city ? `, ${imgData.location.city}` : ''}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n      <section className={styles.othersPosts}>\r\n        <h2>You might like it</h2>\r\n        <ul className={styles.posts}>\r\n          {similarImages &&\r\n            similarImages.map((image) => (\r\n              <li key={image.id}>\r\n                <Card key={image.id} {...image} />\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { CardInfoPage }\r\n","import { collection, onSnapshot } from 'firebase/firestore'\r\nimport { useEffect, useState } from 'react'\r\n\r\nimport { UnsplashTypes } from '@api'\r\nimport { CardList, Preloader } from '@components'\r\nimport { useAppSelector } from '@hooks'\r\nimport { authSelectors } from '@store/store'\r\n\r\nimport { db } from '../../../firebase'\r\n\r\nconst FavoritesPage = () => {\r\n  const [data, setData] = useState<Array<UnsplashTypes.Card>>([])\r\n  const uid = useAppSelector(authSelectors.uid)\r\n  const [isLoading, setIsLoading] = useState<boolean>(false)\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true)\r\n    const unsubscribe = onSnapshot(\r\n      collection(db, `users/${uid}/favorites`),\r\n      (snapshot) => {\r\n        const newData = snapshot.docs.map((doc) => doc.data())\r\n        setData(newData as UnsplashTypes.Card[])\r\n        setIsLoading(false)\r\n      }\r\n    )\r\n\r\n    return () => unsubscribe()\r\n  }, [uid])\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <Preloader />}\r\n      {!isLoading && data.length > 0 && <CardList cards={data} />}\r\n      {!isLoading && data.length === 0 && <h2>You have no favorites</h2>}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FavoritesPage\r\n","// extracted by mini-css-extract-plugin\nexport default {\"cardsHistory\":\"pPh_NehCXtCFi_LohmYs\",\"searchHistory\":\"l95BRPKEVIyt8nDldYrk\",\"cardsList\":\"InkDZAmtBilwy3VDHLQl\",\"searchList\":\"roH2Kf9mWOSSQ9riCFVc\",\"searchItem\":\"XlkSyiFtif7y4fJ2_5Ct\",\"message\":\"WYKHJaYO1N1tQRP4PnDm\"};","import { useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { DocumentData, collection, onSnapshot } from 'firebase/firestore'\r\nimport { toast } from 'react-toastify'\r\n\r\nimport { UnsplashApi, UnsplashTypes } from '@api'\r\nimport { Card, Preloader } from '@components'\r\nimport { useAppDispatch, useAppSelector } from '@hooks'\r\nimport { replaceCards } from '@store/slices/cardsSlice'\r\nimport { authSelectors } from '@store/store'\r\n\r\nimport { db } from '../../../firebase'\r\nimport styles from './History.module.scss'\r\n\r\nfunction HistoryPage() {\r\n  const dispatch = useAppDispatch()\r\n  const navigate = useNavigate()\r\n\r\n  const [cardshistory, setCardsHistory] = useState<Array<UnsplashTypes.Card>>(\r\n    []\r\n  )\r\n  const [searchHistory, setSearchHistory] = useState<Array<DocumentData>>([])\r\n  const uid = useAppSelector(authSelectors.uid)\r\n  const [isLoading, setIsLoading] = useState<boolean>(false)\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true)\r\n    const unsubscribe = onSnapshot(\r\n      collection(db, `users/${uid}/cardsHistory`),\r\n      (snapshot) => {\r\n        const cards = snapshot.docs.map((doc) =>\r\n          doc.data()\r\n        ) as UnsplashTypes.Card[]\r\n\r\n        setCardsHistory(cards.reverse())\r\n        setIsLoading(false)\r\n      }\r\n    )\r\n\r\n    const unsubscribe2 = onSnapshot(\r\n      collection(db, `users/${uid}/searchHistory`),\r\n      (snapshot) => {\r\n        const search = snapshot.docs.map((doc) => doc.data())\r\n        setSearchHistory(search.reverse())\r\n        setIsLoading(false)\r\n      }\r\n    )\r\n\r\n    return () => {\r\n      unsubscribe()\r\n      unsubscribe2()\r\n    }\r\n  }, [uid])\r\n\r\n  const handleSearchItem = async (searchValue) => {\r\n    UnsplashApi.searchPhoto({ query: searchValue, per_page: 20 })\r\n      .then((res) => {\r\n        dispatch(replaceCards(res.results))\r\n      })\r\n      .catch((error) => {\r\n        toast.error('Request error ', error)\r\n      })\r\n      .finally(() => navigate('/'))\r\n  }\r\n\r\n  if (isLoading) {\r\n    return <Preloader />\r\n  }\r\n\r\n  // change key from index to id\r\n  return (\r\n    <>\r\n      <section className={styles.cardsHistory}>\r\n        <h2>{`Cards you've looked at`}</h2>\r\n        {cardshistory?.length ? (\r\n          <ul className={styles.cardsList}>\r\n            {cardshistory.map((card: any, index) => (\r\n              <li key={index}>\r\n                <Card {...card} />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <p\r\n            className={styles.message}\r\n          >{`You haven't looked at any cards yet`}</p>\r\n        )}\r\n      </section>\r\n      <section className={styles.searchHistory}>\r\n        <h2>Search history</h2>\r\n        {searchHistory?.length ? (\r\n          <ul className={styles.searchList}>\r\n            {searchHistory.map((link, index) => (\r\n              <li\r\n                className={styles.searchItem}\r\n                key={index}\r\n                onClick={() => handleSearchItem(link.searchValue)}\r\n              >\r\n                {link.searchValue}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <p\r\n            className={styles.message}\r\n          >{`You haven't searched for anything yet`}</p>\r\n        )}\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HistoryPage\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"GRbRIY8KlgqcpHaT1A6O\"};","import { useEffect, useState } from 'react'\r\nimport { toast } from 'react-toastify'\r\n\r\nimport { UnsplashApi } from '@api'\r\nimport { CardList, Preloader, SearchWithSuggestion } from '@components'\r\nimport { useAppDispatch, useAppSelector } from '@hooks'\r\nimport { usePagination } from '@src/app/hooks/pagination'\r\nimport { replaceCards } from '@store/slices/cardsSlice'\r\n\r\nimport styles from './HomePage.module.scss'\r\n\r\nconst HomePage = () => {\r\n  const dispatch = useAppDispatch()\r\n  const { cardsData } = useAppSelector((state) => state.cards)\r\n  const { countPerPage } = useAppSelector((state) => state.search)\r\n  const [isLoading, setIsLoading] = useState<boolean>(false)\r\n  usePagination()\r\n\r\n  useEffect(() => {\r\n    if (!cardsData.length) {\r\n      setIsLoading(true)\r\n      UnsplashApi.getListPhotos({ page: 1, per_page: countPerPage })\r\n        .then((data) => {\r\n          dispatch(replaceCards(data))\r\n        })\r\n        .catch((error) => {\r\n          toast.error('Request error ', error)\r\n        })\r\n        .finally(() => {\r\n          setIsLoading(false)\r\n        })\r\n    }\r\n  }, [cardsData.length, dispatch, countPerPage])\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <SearchWithSuggestion />\r\n      {isLoading && <Preloader />}\r\n      {!isLoading && cardsData.length > 0 && <CardList cards={cardsData} />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { HomePage }\r\n","import { useCallback, useEffect, useState } from 'react'\r\n\r\nimport { UnsplashApi, UnsplashTypes } from '@api'\r\nimport { useAppDispatch, useAppSelector } from '@hooks'\r\nimport { addMoreCards } from '@store/slices/cardsSlice'\r\n\r\nexport function usePagination() {\r\n  const dispatch = useAppDispatch()\r\n  const [currentPage, setCurrentPage] = useState<number>(2)\r\n  const [fetching, setFetching] = useState<boolean>(false)\r\n  const { searchValue, countPerPage, totalPages } = useAppSelector(\r\n    (state) => state.search\r\n  )\r\n\r\n  const getPhotos = useCallback(async () => {\r\n    let photos: UnsplashTypes.Card[]\r\n\r\n    if (!searchValue) {\r\n      photos = await UnsplashApi.getListPhotos({\r\n        page: currentPage,\r\n        per_page: countPerPage,\r\n      })\r\n    } else {\r\n      const { results } = await UnsplashApi.searchPhoto({\r\n        query: searchValue,\r\n        page: currentPage,\r\n        per_page: countPerPage,\r\n      })\r\n      photos = results\r\n    }\r\n\r\n    dispatch(addMoreCards(photos))\r\n    setCurrentPage((prevState) => prevState + 1)\r\n    setFetching(false)\r\n  }, [dispatch, currentPage, searchValue, countPerPage])\r\n\r\n  useEffect(() => {\r\n    if (fetching) {\r\n      if (totalPages && totalPages < currentPage) {\r\n        setFetching(false)\r\n        return\r\n      }\r\n\r\n      getPhotos()\r\n    }\r\n  }, [fetching, getPhotos, currentPage, totalPages])\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('scroll', scrollHandler)\r\n\r\n    return function () {\r\n      document.removeEventListener('scroll', scrollHandler)\r\n    }\r\n  }, [])\r\n\r\n  const scrollHandler = (e) => {\r\n    if (\r\n      e.target.documentElement.scrollHeight -\r\n        (e.target.documentElement.scrollTop + window.innerHeight) <\r\n      100\r\n    ) {\r\n      setFetching(true)\r\n    }\r\n  }\r\n}\r\n","import { signInWithEmailAndPassword } from 'firebase/auth'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport { Form } from '@components'\r\nimport { useAppDispatch } from '@hooks'\r\nimport { setUser } from '@store/slices/userSlice'\r\nimport { toast } from 'react-toastify'\r\n\r\nimport { auth } from '../../../../firebase'\r\n\r\nconst Login = () => {\r\n  const dispatch = useAppDispatch()\r\n  const navigate = useNavigate()\r\n\r\n  const handleLogin = (email: string, password: string) => {\r\n    signInWithEmailAndPassword(auth, email, password)\r\n      .then(({ user }) => {\r\n        dispatch(\r\n          setUser({\r\n            email: user.email,\r\n            id: user.uid,\r\n            token: user.refreshToken,\r\n          })\r\n        )\r\n        navigate('/')\r\n      })\r\n      .catch((error) => toast.error('Incorrect email or password', error))\r\n  }\r\n\r\n  return <Form title='Sign In' handleSubmit={handleLogin} />\r\n}\r\n\r\nexport { Login }\r\n","import { Link, useNavigate } from 'react-router-dom'\r\n\r\nimport { useAuth } from '@hooks'\r\n\r\nimport { Login } from './Login'\r\n\r\nconst LoginPage = () => {\r\n  const { isAuth } = useAuth()\r\n  const navigate = useNavigate()\r\n\r\n  if (isAuth) {\r\n    navigate('/')\r\n  }\r\n\r\n  return (\r\n    <div className='authContainer'>\r\n      <h1>Login</h1>\r\n      <Login />\r\n      <p>\r\n        Don&apos;t have an account? <Link to='/register'>Register here</Link>\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { LoginPage }\r\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"vrNuVB8A4modZMRW46_n\",\"subtitle\":\"MDaoXD0zx4g0qVFozIpL\",\"title\":\"b_1Zox2nlTI8sv7BKEX4\",\"navList\":\"KT2lhf6TUn2ZuPUOuFME\",\"navBtn\":\"d44UssZEHzOGhqUKsckQ\"};","import { FC } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport styles from './NotFoundPage.module.scss'\r\n\r\nexport const NotFoundPage: FC = () => {\r\n  const navigate = useNavigate()\r\n  \r\n  const goBack = () => navigate(-1)\r\n  const goToMainPage = () => navigate('/', { replace: true })\r\n\r\n  return (\r\n    <section className={styles.section}>\r\n      <p className={styles.subtitle}>404</p>\r\n      <h2 className={styles.title}>Page not found</h2>\r\n      <nav>\r\n        <ul className={styles.navList}>\r\n          <li>\r\n            <button onClick={goBack} className={styles.navBtn} type='button'>\r\n              Back\r\n            </button>\r\n          </li>\r\n          <li>\r\n            <button\r\n              onClick={goToMainPage}\r\n              className={styles.navBtn}\r\n              type='button'\r\n            >\r\n              Main page\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </section>\r\n  )\r\n}\r\n","import { createUserWithEmailAndPassword } from 'firebase/auth'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\n\r\nimport { Form } from '@components'\r\nimport { useAppDispatch } from '@hooks'\r\nimport { setUser } from '@store/slices/userSlice'\r\n\r\nimport { auth } from '../../../../firebase'\r\n\r\nconst SignUp = () => {\r\n  const dispatch = useAppDispatch()\r\n  const navigate = useNavigate()\r\n\r\n  const handleRegister = (email: string, password: string) => {\r\n    createUserWithEmailAndPassword(auth, email, password)\r\n      .then(({ user }) => {\r\n        dispatch(\r\n          setUser({\r\n            email: user.email,\r\n            id: user.uid,\r\n            token: user.refreshToken,\r\n          })\r\n        )\r\n        navigate('/')\r\n      })\r\n      .catch((error) => toast.error('Incorrect email or password ', error))\r\n  }\r\n\r\n  return <Form title='Sign Out' handleSubmit={handleRegister} />\r\n}\r\n\r\nexport { SignUp }\r\n","import { Link, useNavigate } from 'react-router-dom'\r\n\r\nimport { useAuth } from '@hooks'\r\n\r\nimport { SignUp } from './SignUp'\r\n\r\nconst RegisterPage = () => {\r\n  const { isAuth } = useAuth()\r\n  const navigate = useNavigate()\r\n\r\n  if (isAuth) {\r\n    navigate('/')\r\n  }\r\n\r\n  return (\r\n    <div className='authContainer'>\r\n      <h1>Register</h1>\r\n      <SignUp />\r\n      <p>\r\n        Already have an account? <Link to='/login'>Sign in</Link>\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { RegisterPage }\r\n","import { createAsyncThunk } from '@reduxjs/toolkit'\r\nimport { onAuthStateChanged } from 'firebase/auth'\r\n\r\nimport { auth } from '../../../firebase'\r\nimport { setAuthUser, userNotFound } from '../slices/authSlice'\r\n\r\nexport const checkAuth = createAsyncThunk(\r\n  'auth/checkAuth',\r\n  (_, { dispatch }) => {\r\n    onAuthStateChanged(auth, (user) => {\r\n      if (user) {\r\n        return dispatch(setAuthUser({ email: user.email, uid: user.uid }))\r\n      } else {\r\n        return dispatch(userNotFound())\r\n      }\r\n    })\r\n  }\r\n)\r\n","import { useEffect } from 'react'\r\nimport { Route, Routes } from 'react-router-dom'\r\n\r\nimport { useAppDispatch, useAppSelector } from '@hooks'\r\nimport { ProtectedRoute } from '@HOC'\r\nimport {\r\n  CardInfoPage,\r\n  FavoritesPage,\r\n  HomePage,\r\n  LoginPage,\r\n  RegisterPage,\r\n  HistoryPage,\r\n  NotFoundPage,\r\n} from '@pages'\r\nimport { checkAuth } from '@store/actions/authAction'\r\nimport { status } from '@store/selectors/authSelectors'\r\nimport { Layout, Preloader } from '@components'\r\nimport './App.scss'\r\n\r\nfunction App() {\r\n  const dispatch = useAppDispatch()\r\n  const authStatus = useAppSelector(status)\r\n\r\n  useEffect(() => {\r\n    dispatch(checkAuth())\r\n  }, [dispatch])\r\n\r\n  if (authStatus === 'LOADING') {\r\n    return (\r\n      <Preloader fullscreen/>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <Routes>\r\n        <Route path='/' element={<HomePage />} />\r\n        <Route path='/login' element={<LoginPage />} />\r\n        <Route path='/register' element={<RegisterPage />} />\r\n        <Route path='/card' element={<CardInfoPage />} />\r\n        <Route\r\n          path='/favorites'\r\n          element={<ProtectedRoute component={FavoritesPage} />}\r\n        />\r\n        <Route\r\n          path='/history'\r\n          element={<ProtectedRoute component={HistoryPage} />}\r\n        />\r\n        <Route path='*' element={<NotFoundPage />} />\r\n      </Routes>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import { createRoot } from 'react-dom/client'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { ToastContainer } from 'react-toastify'\r\n\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport App from './App'\r\nimport { CURRENT_BASE_URL } from './app/constants/environment'\r\nimport './index.scss'\r\nimport { store } from './store/store'\r\n\r\nconst root = createRoot(document.getElementById('root') as HTMLElement)\r\n\r\nroot.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter basename={CURRENT_BASE_URL}>\r\n      <ToastContainer theme='dark' autoClose={2000} />\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>\r\n)\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgallery\"] = self[\"webpackChunkgallery\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [187], () => (__webpack_require__(82)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","useAppDispatch","useDispatch","useAppSelector","useSelector","authSlice","createSlice","name","initialState","statusAuth","email","uid","reducers","setAuthUser","state","actions","payload","userNotFound","cardsSlice","cardsData","saveCardsData","replaceCards","action","addMoreCards","push","removeCards","searchSlice","searchValue","countPerPage","totalPages","setSearchValue","resetSearch","setTotalPages","_ref","userSlice","token","id","setUser","removeUser","rtkQueryErrorLogger","next","isRejectedWithValue","customError","status","toast","error","data","message","auth","rootReducer","combineReducers","user","userReducer","search","searchReducer","cards","cardsReducer","authReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","concat","useAuth","authSelectors","isAuth","apiOptions","baseURL","headers","Authorization","process","checkResponse","_asyncToGenerator","res","ok","json","then","err","Promise","reject","errors","_x","apply","arguments","makeRequest","_ref3","_ref2","endPoint","body","method","options","JSON","stringify","fetch","_x2","getQueryString","params","queries","key","join","getPhotoById","getListPhotos","queryString","getRandomPhoto","searchPhoto","ProtectedRoute","component","Component","props","_objectWithoutProperties","_excluded","_jsx","_objectSpread","Navigate","to","replace","firebaseConfig","apiKey","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","app","initializeApp","getAuth","db","getFirestore","Card","urls","alt_description","liked_by_user","isLiked","setIsLiked","useState","handleLikePost","event","preventDefault","addFavorites","setDoc","doc","removeFavorites","cardId","deleteDoc","className","styles","children","_jsxs","Link","disabled","title","onClick","e","src","favFilled","fav","alt","regular","length","slice","CardList","cardList","map","Form","handleSubmit","setEmail","pass","setPass","emailError","setEmailError","passwordError","setPasswordError","onSubmit","htmlFor","type","value","onChange","target","test","validateEmail","placeholder","required","validatePassword","Logo","Preloader","fullscreen","NavBar","dispatch","navigate","useNavigate","handleLogout","signOut","handleActiveLink","isActive","_Fragment","NavLink","Header","_path","Layout","_extends","Object","assign","bind","i","source","prototype","hasOwnProperty","call","this","SvgSearchIcon","xmlns","viewBox","d","SvgCloseIcon","width","height","fill","Search","setValue","inputRef","useRef","handleDebouncedInputUpdate","func","delay","undefined","cleanUp","timeoutRef","clearTimer","current","clearTimeout","useEffect","_len","args","Array","_key","setTimeout","useDebouncedFunction","str","evt","ref","_inputRef$current","focus","CloseIcon","SearchIcon","SuggestionItem","thumb","owner","likes","role","SuggestionsBar","photos","visible","errorMessage","suggestionsList","SearchWithSuggestion","isSuggestionsBarVisible","setIsSuggestionsBarVisible","suggestions","setSuggestions","setErrorMessage","UnsplashApi","query","per_page","page","results","total_pages","catch","handleSuggestionError","count","finally","closeSuggestionsBar","closest","document","addEventListener","removeEventListener","style","CardInfoPage","_imgData$urls","_imgData$user","_imgData$location","_imgData$location2","location","useLocation","imgData","setImgData","similarImages","setSimilarImages","getImgData","useCallback","_response$topics$","response","topic","topics","responseOfSimilarsPhotos","orientation","useLayoutEffect","URLSearchParams","window","get","cardPage","cardInfo","cardImage","cardDescription","description","extraInfo","author","country","city","othersPosts","posts","image","FavoritesPage","setData","isLoading","setIsLoading","unsubscribe","onSnapshot","collection","snapshot","newData","docs","cardshistory","setCardsHistory","searchHistory","setSearchHistory","reverse","unsubscribe2","handleSearchItem","card","index","link","HomePage","currentPage","setCurrentPage","fetching","setFetching","getPhotos","prevState","scrollHandler","documentElement","scrollHeight","scrollTop","innerHeight","usePagination","Login","handleLogin","password","signInWithEmailAndPassword","refreshToken","LoginPage","NotFoundPage","goBack","goToMainPage","SignUp","handleRegister","createUserWithEmailAndPassword","RegisterPage","checkAuth","createAsyncThunk","_","onAuthStateChanged","authStatus","Routes","Route","path","element","HistoryPage","createRoot","getElementById","render","Provider","BrowserRouter","basename","ToastContainer","theme","autoClose","App","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","r","getPrototypeOf","obj","t","mode","__esModule","ns","create","def","indexOf","getOwnPropertyNames","forEach","definition","o","defineProperty","enumerable","g","globalThis","Function","prop","Symbol","toStringTag","scriptUrl","importScripts","currentScript","scripts","getElementsByTagName","Error","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}